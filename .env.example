# ==============================================
# ImgTools Backend - Environment Configuration
# ==============================================

# Basic Configuration
# --------------------
# Application environment (development, production, test)
NODE_ENV=development

# Port number for the server to listen on
PORT=4000

# CORS allowed origins (comma-separated list, use * for all origins)
# Example: http://localhost:3000,https://example.com
CORS_ORIGIN=*


# Rate Limiting
# -------------
# Time window for rate limiting in milliseconds (default: 900000 = 15 minutes)
RATE_LIMIT_WINDOW_MS=900000

# Maximum number of requests allowed per window per IP
RATE_LIMIT_MAX_REQUESTS=100


# File Upload Configuration
# --------------------------
# Maximum file size in megabytes (default: 50MB)
MAX_FILE_SIZE_MB=50

# Maximum number of files allowed per request (increased for batch operations)
MAX_FILES_PER_REQUEST=100


# Timeout Configuration
# ---------------------
# Request timeout in milliseconds (default: 300000 = 5 minutes)
# Increased for batch operations with up to 80 images
REQUEST_TIMEOUT_MS=300000

# Image processing timeout in milliseconds (default: 120000 = 2 minutes)
# Should be less than REQUEST_TIMEOUT_MS to allow for cleanup
IMAGE_PROCESSING_TIMEOUT_MS=120000


# Logging Configuration
# ---------------------
# Log level: error, warn, info, debug
# Use 'info' for production, 'debug' for development
LOG_LEVEL=info

# Log format: json, simple
# Use 'json' for production (easier to parse), 'simple' for development
LOG_FORMAT=simple


# Temporary File Cleanup
# ----------------------
# Maximum age of temporary files in milliseconds before cleanup (default: 3600000 = 1 hour)
TEMP_FILE_MAX_AGE_MS=3600000

# Interval for periodic cleanup of old temporary files in milliseconds (default: 300000 = 5 minutes)
CLEANUP_INTERVAL_MS=300000


# ==============================================
# Notes:
# - All time values are in milliseconds
# - All size values are in megabytes
# - Copy this file to .env and adjust values as needed
# - Never commit .env file to version control
# ==============================================
